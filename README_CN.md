# HyFetcher

**HyFetcher** æ˜¯ä¸€ä¸ªç”¨ Rust ç¼–å†™çš„é«˜æ•ˆç¦»çº¿ç½‘é¡µ/æ–‡ç« æ‰¹é‡ä¸‹è½½ä¸ç´¢å¼•ç”Ÿæˆå·¥å…·ï¼Œæ”¯æŒå¹¶å‘ä¸‹è½½ç½‘é¡µã€è‡ªåŠ¨æœ¬åœ°åŒ–å›¾ç‰‡å’Œè§†é¢‘ç­‰èµ„æºï¼Œå¹¶ç”Ÿæˆå¯æµè§ˆçš„ `index.html` ç´¢å¼•é¡µã€‚

## ç‰¹æ€§

- ğŸš€ å¤šçº¿ç¨‹é«˜å¹¶å‘ä¸‹è½½ï¼Œæ€§èƒ½è¿œè¶… [Python ç‰ˆ](https://github.com/hyperplasma/hyplusite-exporter)
- ğŸ–¼ï¸ è‡ªåŠ¨æœ¬åœ°åŒ–ç½‘é¡µä¸­çš„å›¾ç‰‡å’Œè§†é¢‘èµ„æº
- ğŸ—‚ï¸ è‡ªåŠ¨ç”Ÿæˆå¯æµè§ˆçš„ç´¢å¼•é¡µ
- ğŸ› ï¸ å‘½ä»¤è¡Œå‚æ•°è‡ªç”±æŒ‡å®šæ•°æ®ç›®å½•ã€è¾“å‡ºç›®å½•ã€å¹¶å‘æ•°ç­‰
- ğŸ“¦ ç®€æ´æ˜“ç”¨ï¼Œé€‚åˆä¸ªäººçŸ¥è¯†ç®¡ç†ã€ç½‘é¡µå½’æ¡£ç­‰åœºæ™¯

## æ•°æ®ä¸ç›®å½•æ ¼å¼

```
hyfetcher/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.rs
â”‚   â”œâ”€â”€ model.rs
â”‚   â”œâ”€â”€ parser/
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ fetcher/
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ ...
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ <category>
â”‚   â”‚   â”œâ”€â”€ <sub-category>
â”‚   â”‚   â”‚   â”œâ”€â”€ hypress.csv
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ ...
â”œâ”€â”€ outputs/
â”‚   â”œâ”€â”€ <category>
â”‚   â”‚   â”œâ”€â”€ <sub-category>
â”‚   â”‚   â”‚   â”œâ”€â”€ hypress
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ example-page.html
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ ...
â”œâ”€â”€ Cargo.toml
â”œâ”€â”€ README.md
â””â”€â”€ ...
```

- éœ€å‡†å¤‡ä¸€ä¸ªæ ‘å½¢ç»“æ„çš„è¾“å…¥ç›®å½•ï¼ˆå¦‚ `data/`ï¼‰ï¼Œå„çº§ç›®å½•å¯¹åº” `index.html` ä¸­çš„å„çº§åˆ†ç±»ï¼Œå¶èŠ‚ç‚¹ç›®å½•ä¸­åŒ…å«çˆ¬å–ç›®æ ‡çš„æè¿°æ–‡ä»¶ï¼ˆCSVï¼‰ï¼Œæ ¼å¼å‚è€ƒ  `model.rs`ï¼Œå¿…å¡«å­—æ®µæœ‰ `url`ã€`title`ã€‚
- æ¯ä¸ªç½‘é¡µå°†ä¿å­˜ä¸ºæœ¬åœ° HTMLï¼Œè¾“å‡ºç›®å½•ï¼ˆå¦‚ `outputs/`ï¼‰ä¸­åˆ†ç±»å±‚çº§å…³ç³»ï¼ˆç›®å½•ç»“æ„ç»“æ„ï¼‰ä¿æŒä¸è¾“å…¥ç›®å½•ä¸­ç›¸åŒçš„ç»“æ„ã€‚
- å›¾ç‰‡å’Œè§†é¢‘ç­‰èµ„æºè‡ªåŠ¨ä¸‹è½½åˆ°æœ¬åœ° `outputs/assets/` ç›®å½•ã€‚

## ä¾èµ–

- [tokio](https://crates.io/crates/tokio)
- [reqwest](https://crates.io/crates/reqwest)
- [scraper](https://crates.io/crates/scraper)
- [clap](https://crates.io/crates/clap)
- [anyhow](https://crates.io/crates/anyhow)
- è¯¦è§ `Cargo.toml`

## ä½¿ç”¨æ–¹æ³•

### 1. ç¼–è¯‘

è¯·ç¡®ä¿ä½ å·²å®‰è£… Rust å·¥å…·é“¾ã€‚ç„¶ååœ¨é¡¹ç›®ç›®å½•ä¸‹ç¼–è¯‘ï¼š

```sh
cargo build --release
```

å¯æ‰§è¡Œæ–‡ä»¶ä½äº `target/release/hyfetcher`ã€‚

æˆ–ç›´æ¥ä¸‹è½½å¯æ‰§è¡Œæ–‡ä»¶ã€‚

### 2. è¿è¡Œ

åœ¨é¡¹ç›®æ ¹ç›®å½•ä¸‹æ‰§è¡Œï¼š

```sh
./target/release/hyfetcher [OPTIONS]
```

è‹¥å·²ç›´æ¥ä¸‹è½½å¯æ‰§è¡Œæ–‡ä»¶ï¼Œåˆ™ç›´æ¥åœ¨å…¶ç›®å½•ä¸‹æ‰§è¡Œï¼š

```sh
./hyfetcher [OPTIONS]
```

**å¯ç”¨å‚æ•°**ï¼š

- `-d, --data_dir <DATA_DIR>`ï¼šæ•°æ®è¾“å…¥ç›®å½•ï¼Œé»˜è®¤ `data`
- `-o, --outputs_dir <OUTPUTS_DIR>`ï¼šè¾“å‡ºç›®å½•ï¼Œé»˜è®¤ `outputs`
- `-c, --concurrency <CONCURRENCY>`ï¼šå¹¶å‘ä»»åŠ¡æ•°ï¼Œé»˜è®¤ 8

**ç¤ºä¾‹**ï¼š

```sh
./target/release/hyfetcher -d data -o outputs -c 16
```

### 4. ç´¢å¼•é¡µ

ç¨‹åºä¼šåœ¨è¾“å‡ºç›®å½•ä¸‹è‡ªåŠ¨ç”Ÿæˆ `index.html`ï¼Œå¯ç›´æ¥ç”¨æµè§ˆå™¨æ‰“å¼€ï¼Œå¿«é€ŸæŸ¥é˜…å·²ä¸‹è½½çš„æ‰€æœ‰ç½‘é¡µã€‚

## License

[MIT](LICENSE)